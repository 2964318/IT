{#<!-- templates/change_password.html -->#}
{#{% extends 'base.html' %}#}
{##}
{#{% block content %}#}
{#<div class="container mt-4">#}
{#    <div class="card">#}
{#        <div class="card-header bg-primary text-white">#}
{#            <h3>Change Password</h3>#}
{#        </div>#}
{#        <div class="card-body">#}
{#            <form method="post">#}
{#                {% csrf_token %}#}
{#                <p>Username: {{ user.username }}</p>#}
{#                <!-- Display form errors -->#}
{#                {% if form.errors %}#}
{#                <div class="alert alert-danger">#}
{#                    {% for field, errors in form.errors.items %}#}
{#                        {% for error in errors %}#}
{#                            <p>{{ error }}</p>#}
{#                        {% endfor %}#}
{#                    {% endfor %}#}
{#                </div>#}
{#                {% endif %}#}
{##}
{#                <!-- Form fields -->#}
{#                <div class="mb-3">#}
{#                    <label class="form-label">Old Password</label>#}
{#                    {{ form.old_password }}#}
{#                </div>#}
{#                <div class="mb-3">#}
{#                    <label class="form-label">New Password</label>#}
{#                    {{ form.new_password1 }}#}
{#                </div>#}
{#                <div class="mb-3">#}
{#                    <label class="form-label">Confirm Password</label>#}
{#                    {{ form.new_password2 }}#}
{#                </div>#}
{#                #}
{#                <button type="submit" class="btn btn-primary">Update Password</button>#}
{#            </form>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
{#{% endblock %}#}
{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h3>Change Password</h3>
        </div>
        <div class="card-body">
            <form id="changePasswordForm" method="post">
                {% csrf_token %}
                <p>Username: {{ user.username }}</p>

                <div id="changePasswordAlert" class="alert alert-danger d-none"></div> <!-- 显示错误 -->

                <div class="mb-3">
                    <label class="form-label">Old Password</label>
                    {{ form.old_password }}
                </div>
                <div class="mb-3">
                    <label class="form-label">New Password</label>
                    {{ form.new_password1 }}
                </div>
                <div class="mb-3">
                    <label class="form-label">Confirm Password</label>
                    {{ form.new_password2 }}
                </div>

                <button type="submit" class="btn btn-primary">Update Password</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}